<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taqqit - Discover & Save Ideas</title>
    <style>
:root {
    --primary: #ff6b35;
    --primary-hover: #ff8555;
    --bg-dark: #0a0a0a;
    --bg-medium: #1a1a1a;
    --bg-light: #2a2a2a;
    --bg-lighter: #3a3a3a;
    --text-light: #e0e0e0;
    --text-medium: #c0c0c0;
    --text-dim: #a0a0a0;
    --text-dark: #0a0a0a;
    --border: #2a2a2a;
    --shadow: rgba(255, 107, 53, 0.2);
    --shadow-strong: rgba(255, 107, 53, 0.4);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
    background: var(--bg-dark);
    color: var(--text-light);
    line-height: 1.6;
}

header {
    background: var(--bg-medium);
    padding: 16px 24px;
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid var(--border);
}

nav {
    display: flex;
    align-items: center;
    gap: 24px;
    max-width: 1600px;
    margin: 0 auto;
}

.logo {
    font-size: 28px;
    font-weight: 800;
    color: var(--primary);
    letter-spacing: -1px;
    cursor: pointer;
    user-select: none;
}

.search-bar {
    flex: 1;
    max-width: 600px;
}

.search-bar input {
    width: 100%;
    padding: 12px 20px;
    background: var(--bg-light);
    border: 2px solid var(--bg-lighter);
    border-radius: 24px;
    color: var(--text-light);
    font-size: 15px;
    transition: all 0.2s ease;
}

.search-bar input::placeholder {
    color: var(--text-dim);
}

.search-bar input:focus {
    outline: none;
    border-color: var(--primary);
    background: var(--bg-medium);
}

.nav-links {
    display: flex;
    gap: 16px;
    align-items: center;
}

.nav-btn {
    padding: 10px 20px;
    background: transparent;
    color: var(--text-light);
    border: none;
    border-radius: 20px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 600;
    transition: all 0.2s ease;
}

.nav-btn:hover {
    background: var(--bg-light);
}

.nav-btn.primary {
    background: var(--primary);
    color: var(--text-dark);
}

.nav-btn.primary:hover {
    background: var(--primary-hover);
}

.categories {
    background: var(--bg-medium);
    padding: 20px 24px;
    border-bottom: 1px solid var(--border);
    overflow-x: auto;
    white-space: nowrap;
}

.categories::-webkit-scrollbar {
    height: 6px;
}

.categories::-webkit-scrollbar-track {
    background: var(--bg-light);
}

.categories::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 3px;
}

.category-container {
    display: flex;
    gap: 12px;
    max-width: 1600px;
    margin: 0 auto;
}

.category-btn {
    padding: 10px 24px;
    background: var(--bg-light);
    border: 2px solid var(--bg-lighter);
    border-radius: 24px;
    color: var(--text-light);
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.2s ease;
    white-space: nowrap;
}

.category-btn:hover,
.category-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    color: var(--text-dark);
}

.container {
    max-width: 1600px;
    margin: 0 auto;
    padding: 24px;
}

.masonry-grid {
    column-count: 5;
    column-gap: 16px;
}

@media (max-width: 1400px) {
    .masonry-grid {
        column-count: 4;
    }
}

@media (max-width: 1100px) {
    .masonry-grid {
        column-count: 3;
    }
}

@media (max-width: 800px) {
    .masonry-grid {
        column-count: 2;
    }
    
    .nav-links {
        gap: 8px;
    }
    
    .nav-btn {
        padding: 8px 12px;
        font-size: 13px;
    }
}

@media (max-width: 500px) {
    .masonry-grid {
        column-count: 1;
    }
    
    nav {
        flex-wrap: wrap;
        gap: 12px;
    }
    
    .search-bar {
        order: 3;
        max-width: 100%;
        width: 100%;
    }
}

.pin-card {
    break-inside: avoid;
    margin-bottom: 16px;
    background: var(--bg-medium);
    border-radius: 16px;
    overflow: hidden;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.pin-card:hover {
    transform: translateY(-4px);
    border-color: var(--primary);
    box-shadow: 0 8px 24px var(--shadow);
}

.pin-image {
    width: 100%;
    display: block;
    object-fit: cover;
}

.pin-content {
    padding: 16px;
}

.pin-title {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-light);
    margin-bottom: 8px;
    line-height: 1.4;
}

.pin-description {
    font-size: 13px;
    color: var(--text-dim);
    line-height: 1.5;
    margin-bottom: 12px;
}

.pin-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.pin-user {
    display: flex;
    align-items: center;
    gap: 8px;
}

.user-avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--primary);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 12px;
    color: var(--text-dark);
}

.user-name {
    font-size: 13px;
    font-weight: 600;
    color: var(--text-medium);
}

.save-btn {
    padding: 8px 16px;
    background: var(--primary);
    border: none;
    border-radius: 20px;
    color: var(--text-dark);
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s ease;
}

.save-btn:hover {
    background: var(--primary-hover);
    transform: scale(1.05);
}

.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    z-index: 1000;
    align-items: center;
    justify-content: center;
    padding: 20px;
}

.modal.active {
    display: flex;
}

.modal-content {
    background: var(--bg-medium);
    border-radius: 24px;
    max-width: 1000px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    border: 2px solid var(--border);
}

.modal-content::-webkit-scrollbar {
    width: 8px;
}

.modal-content::-webkit-scrollbar-track {
    background: var(--bg-light);
}

.modal-content::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 4px;
}

.modal-close {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--bg-light);
    border: none;
    color: var(--text-light);
    font-size: 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: all 0.2s ease;
}

.modal-close:hover {
    background: var(--primary);
    color: var(--text-dark);
}

.modal-image {
    width: 100%;
    border-radius: 24px 24px 0 0;
    object-fit: cover;
    max-height: 500px;
}

.modal-info {
    padding: 32px;
}

.modal-title {
    font-size: 28px;
    font-weight: 800;
    margin-bottom: 16px;
    color: var(--text-light);
}

.modal-description {
    font-size: 16px;
    line-height: 1.6;
    color: var(--text-medium);
    margin-bottom: 24px;
}

.youtube-badge {
    display: inline-block;
    background: #FF0000;
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 700;
    margin-bottom: 8px;
}

.fab {
    position: fixed;
    bottom: 32px;
    right: 32px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: var(--primary);
    border: none;
    color: var(--text-dark);
    font-size: 28px;
    cursor: pointer;
    box-shadow: 0 4px 12px var(--shadow-strong);
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 300;
}

.fab:hover {
    transform: scale(1.1);
    box-shadow: 0 6px 20px rgba(255, 107, 53, 0.6);
}

.empty-state {
    text-align: center;
    padding: 80px 20px;
    color: var(--text-dim);
}

.empty-state h3 {
    font-size: 24px;
    margin-bottom: 12px;
    color: var(--text-medium);
}

.empty-state p {
    font-size: 16px;
}
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo">TAQQIT</div>
            <div class="search-bar">
                <input type="text" id="searchInput" placeholder="Search: documentaries, mysteries, architecture...">
            </div>
            <div class="nav-links">
                <button class="nav-btn">Home</button>
                <button class="nav-btn">Explore</button>
                <button class="nav-btn">Create</button>
                <button class="nav-btn primary">Sign Up</button>
            </div>
        </nav>
    </header>

    <div class="categories">
        <div class="category-container" id="categoryContainer"></div>
    </div>

    <div class="container">
        <div class="masonry-grid" id="grid"></div>
    </div>

    <button class="fab" id="fabBtn">+</button>

    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">×</button>
            <img class="modal-image" id="modalImage" src="" alt="">
            <div class="modal-info">
                <h2 class="modal-title" id="modalTitle"></h2>
                <p class="modal-description" id="modalDescription"></p>
                <div class="pin-footer">
                    <div class="pin-user">
                        <div class="user-avatar" id="modalAvatar"></div>
                        <div class="user-name" id="modalUser"></div>
                    </div>
                    <button class="save-btn" style="padding: 12px 24px; font-size: 15px;">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script>
// Categories
const categories = ["All","Cars & Motorcycles","Fitness & Training","Style & Fashion","Tech & Gadgets","Watches","Cooking & BBQ","Home & Workshop","Travel & Adventure","Business & Finance","Sports","Gaming"];

// Pins - YouTube documentaries with real thumbnail URLs
const pins = [
    {title: "My Architect: A Son's Journey",description: "Nathaniel Kahn explores his father Louis Kahn's legacy. IIM Ahmedabad, Salk Institute. Genius architect, absent father.",user: "Nathaniel K.",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/xXNa1i3DJeU/maxresdefault.jpg",height: 320},
    
    {title: "The Backrooms (Found Footage)",description: "Kane Parsons' viral horror film. The original liminal space nightmare. 60M+ views. What happens when you no-clip out of reality.",user: "Kane Pixels",category: "Gaming",youtube: "https://i.ytimg.com/vi/H4dGpz6cnHo/maxresdefault.jpg",height: 280},
    
    {title: "Abstract: Bjarke Ingels",description: "Netflix series. Inside the mind of BIG architecture. NYC's World Trade Center. How design impacts everything.",user: "Netflix",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/rKeFCd1j5BE/maxresdefault.jpg",height: 340},
    
    {title: "Helvetica Documentary",description: "Gary Hustwit's film about the typeface. Born 1957, conquered the world. NYC Subway, corporate America. The font you see everywhere.",user: "Gary Hustwit",category: "Style & Fashion",youtube: "https://i.ytimg.com/vi/wkoX0pEwSCw/maxresdefault.jpg",height: 300},
    
    {title: "Rams Documentary",description: "Dieter Rams at Braun. 60-year career. 'Less but better.' The man who designed your iPhone before it existed. His regret.",user: "Gary Hustwit",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/KDbXr0aS2GI/maxresdefault.jpg",height: 280},
    
    {title: "The Pruitt-Igoe Myth",description: "St. Louis housing disaster. Urban renewal's failure. What happens when architecture ignores people. Demolished 1972.",user: "Chad Freidrichs",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/g_NZDCQgET8/maxresdefault.jpg",height: 310},
    
    {title: "Kowloon: City of Darkness",description: "33,000 people per square km. No laws for 40 years. Hong Kong's cyberpunk slum. Demolished 1993. Legendary.",user: "VPRO Documentary",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/dj_8ucS3lMY/maxresdefault.jpg",height: 360},
    
    {title: "Liminal Spaces Explained",description: "The eerie feeling of empty places. Backrooms, dead malls, pools at night. Why they unsettle us. Internet aesthetic deep dive.",user: "Solar Sands",category: "Gaming",youtube: "https://i.ytimg.com/vi/N63pQGhvK4M/maxresdefault.jpg",height: 290},
    
    {title: "Sketches of Frank Gehry",description: "Sydney Pollack's portrait. Guggenheim Bilbao, Disney Hall. The architect who made buildings dance. Creative genius revealed.",user: "Sydney Pollack",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/EJLKkTC0l6E/maxresdefault.jpg",height: 320},
    
    {title: "Brutalist Architecture",description: "Why everyone hates it. Concrete monsters or modernist masterpieces? Boston City Hall, Barbican. The debate continues.",user: "Stewart Hicks",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/rNFr-8hkMeE/maxresdefault.jpg",height: 340},
    
    {title: "The Dyatlov Pass Mystery",description: "9 hikers. Ural Mountains 1959. Tent cut from inside. Radiation. Crushed ribs. No answers. LEMMiNO investigation.",user: "LEMMiNO",category: "Travel & Adventure",youtube: "https://i.ytimg.com/vi/Y8RigxxiilI/maxresdefault.jpg",height: 270},
    
    {title: "Cicada 3301: Internet Mystery",description: "Most elaborate puzzle ever. Cryptography, steganography, ancient texts. Who created it? Why? Still unsolved.",user: "LEMMiNO",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/I2O7blSSzpI/maxresdefault.jpg",height: 300},
    
    {title: "How Brutalism Became Luxury",description: "From hated to hipster. Concrete chic. Why rich people now love what everyone destroyed. Architecture gentrification.",user: "About Here",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/zhL5DCizj5c/maxresdefault.jpg",height: 290},
    
    {title: "SCP Foundation Explained",description: "Collaborative horror fiction. 7000+ entries. Clinical documentation of the impossible. The database that became mythology.",user: "Wendigoon",category: "Gaming",youtube: "https://i.ytimg.com/vi/R9hv6NsWndM/maxresdefault.jpg",height: 310},
    
    {title: "The Genius of Dieter Rams",description: "Braun designer. Apple's inspiration. 10 principles of good design. Why his 1960s products look futuristic today.",user: "Vox",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/VJBzx9tbLXY/maxresdefault.jpg",height: 280},
    
    {title: "Dead Malls: Retail Apocalypse",description: "Abandoned American shopping centers. Fountains off. Food courts empty. The architecture of consumerism dying.",user: "Jake Williams",category: "Travel & Adventure",youtube: "https://i.ytimg.com/vi/fSSMGV7d-o4/maxresdefault.jpg",height: 340},
    
    {title: "Soviet Bus Stops",description: "Christopher Herwig's photography. Concrete art in Central Asia. Futuristic shelters for commuters. Soviet brutalism's hidden gems.",user: "Guardian Docs",category: "Travel & Adventure",youtube: "https://i.ytimg.com/vi/_WcyH4dE4Hg/maxresdefault.jpg",height: 280},
    
    {title: "The Uncanny Valley",description: "Why almost-human robots disturb us. Masahiro Mori's theory. CGI faces that feel wrong. The valley between machine and human.",user: "Vsauce",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/PEikGKDVsCc/maxresdefault.jpg",height: 310},
    
    {title: "Centralia: The Town on Fire",description: "Pennsylvania coal mine burning since 1962. Won't stop for 250 years. Silent Hill inspiration. Ground at 900°F.",user: "Fascinating Horror",category: "Travel & Adventure",youtube: "https://i.ytimg.com/vi/A8sWD56xsgI/maxresdefault.jpg",height: 260},
    
    {title: "Stroads Are Ugly",description: "Street + Road = disaster. Too fast for walking, too slow for driving. Why American suburbs fail. Not Just Bikes breakdown.",user: "Not Just Bikes",category: "Cars & Motorcycles",youtube: "https://i.ytimg.com/vi/ORzNZUeUHAM/maxresdefault.jpg",height: 330},
    
    {title: "Vaporwave: A Brief History",description: "From anti-capitalism satire to the aesthetic it mocked. Floral Shoppe. How a genre ate itself. Internet culture study.",user: "Pad Chennington",category: "Gaming",youtube: "https://i.ytimg.com/vi/w_T1nkER3vA/maxresdefault.jpg",height: 290},
    
    {title: "The Barbican: Brutalist London",description: "Living in concrete. Resident stories from London's icon. Ila Bêka & Louise Lemoine film. Love it or hate it?",user: "Now Here This",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/l3LwdM0Jyfs/maxresdefault.jpg",height: 320},
    
    {title: "Numbers Stations",description: "Mysterious radio broadcasts. UVB-76 buzzing since 1982. Coded messages. Spies? Military? Still broadcasting.",user: "Curious Archive",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/EdnoAJ7KoFE/maxresdefault.jpg",height: 340},
    
    {title: "Tiny Houses: Freedom or Trap?",description: "Minimalist living movement. $50k for 200 sq ft. Is it liberation or just expensive poverty? The truth.",user: "Second Thought",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/hD0kWfiBGAw/maxresdefault.jpg",height: 270},
    
    {title: "Max Headroom Signal Hijacking",description: "Nov 22, 1987. Chicago TV hijacked. Man in mask. Never caught. FBI's longest investigation. Still unsolved.",user: "Nexpo",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/jjeUuakHsLw/maxresdefault.jpg",height: 320},
    
    {title: "Aokigahara: Suicide Forest",description: "Japan's forest at Mt. Fuji. Magnetic iron scrambles compasses. Annual body sweeps. Why people go there. Respectful doc.",user: "VICE",category: "Travel & Adventure",image: "https://i.ytimg.com/vi/4FDSdg09df8/maxresdefault.jpg",height: 300},
    
    {title: "Winchester Mystery House",description: "Stairs to nowhere. Doors to walls. 38 years of construction. Sarah Winchester's guilt. Architecture of madness.",user: "BuzzFeed Unsolved",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/JqfhjVU4GsI/maxresdefault.jpg",height: 280},
    
    {title: "The Bloop: Ocean Mystery",description: "1997 underwater sound. Louder than any whale. NOAA recorded it. Source unknown. Iceberg or kraken?",user: "Thoughty2",category: "Travel & Adventure",youtube: "https://i.ytimg.com/vi/OBN56wL35IQ/maxresdefault.jpg",height: 340},
    
    {title: "Soviet Microdistricts",description: "Khrushchyovka apartments. Identical blocks housing millions. Social engineering through architecture. Still home to 64M people.",user: "Architectural Digest",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/JGVBv7svKLo/maxresdefault.jpg",height: 290},
    
    {title: "Analog Horror: Local 58",description: "Emergency broadcast horror. VHS aesthetic. Alternate timeline nightmares. How YouTube horror evolved.",user: "Nexpo",category: "Gaming",youtube: "https://i.ytimg.com/vi/VDfxyz-7r6M/maxresdefault.jpg",height: 310},
    
    {title: "Poolrooms Explained",description: "Liminal space subgenre. Indoor pools at 3AM. Chlorine and tile echoes. The uncanny valley of recreation.",user: "Inside A Mind",category: "Gaming",youtube: "https://i.ytimg.com/vi/CfJcZ9FsuPs/maxresdefault.jpg",height: 260},
    
    {title: "Kessler Syndrome",description: "Space debris chain reaction. One collision triggers thousands. Could make space unusable. We're dangerously close.",user: "Kurzgesagt",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/yS1ibDImAYU/maxresdefault.jpg",height: 330},
    
    {title: "Eames: The Architect & The Painter",description: "Charles and Ray Eames. The chair. The house. The films. How a couple changed American design. PBS documentary.",user: "American Masters",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/CUKQz9Hzowk/maxresdefault.jpg",height: 290},
    
    {title: "Shipping Container Homes",description: "Modern prefab dream or Instagram scam? $3k for 320 sq ft. Real solution or aesthetic trend? Deep dive.",user: "Belinda Carr",category: "Home & Workshop",youtube: "https://i.ytimg.com/vi/i7yEDz6bCfU/maxresdefault.jpg",height: 320},
    
    {title: "Mandela Effect Examples",description: "Berenstain Bears. Monopoly monocle. Collective false memory. Parallel universes or brain glitches? Investigation.",user: "Thoughty2",category: "Gaming",youtube: "https://i.ytimg.com/vi/TYonTBRM0VI/maxresdefault.jpg",height: 300},
    
    {title: "The Loneliness Epidemic",description: "60% of young men have no close friends. Third places disappeared. Bowling Alone was right. Data deep dive.",user: "Sisyphus 55",category: "Business & Finance",youtube: "https://i.ytimg.com/vi/I19bG8f2c1Q/maxresdefault.jpg",height: 280},
    
    {title: "Planned Obsolescence Exposed",description: "Lightbulb cartel. iPhone batteries. Products designed to fail. Right to repair fight. The documentary.",user: "Veritasium",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/j5v8D-alAKE/maxresdefault.jpg",height: 340},
    
    {title: "Weirdcore Aesthetic",description: "Intentionally unsettling images. Low quality dreamlike photos. Text asking existential questions. Internet art movement.",user: "Solar Sands",category: "Style & Fashion",youtube: "https://i.ytimg.com/vi/sXwaRjU3U1s/maxresdefault.jpg",height: 290},
    
    {title: "Project Cybersyn: Chile's Internet",description: "1971 socialist AI economy. Stafford Beer's design. Ops room like Star Trek. Ended with Pinochet coup.",user: "Rare Earth",category: "Tech & Gadgets",youtube: "https://i.ytimg.com/vi/_wP6YmhPWDc/maxresdefault.jpg",height: 320}
];

// State
let currentFilter = 'All';
const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const modalClose = document.getElementById('modalClose');
const modalImage = document.getElementById('modalImage');
const modalTitle = document.getElementById('modalTitle');
const modalDescription = document.getElementById('modalDescription');
const modalAvatar = document.getElementById('modalAvatar');
const modalUser = document.getElementById('modalUser');
const categoryContainer = document.getElementById('categoryContainer');
const searchInput = document.getElementById('searchInput');
const fabBtn = document.getElementById('fabBtn');

function createPinCard(pin, index) {
    const card = document.createElement('div');
    card.className = 'pin-card';
    card.onclick = () => openModal(pin, index);
    
    card.innerHTML = `
        <img class="pin-image" src="${pin.youtube}" alt="${pin.title}" style="height: ${pin.height}px;">
        <div class="pin-content">
            <div class="youtube-badge">YOUTUBE</div>
            <h3 class="pin-title">${pin.title}</h3>
            <p class="pin-description">${pin.description}</p>
            <div class="pin-footer">
                <div class="pin-user">
                    <div class="user-avatar">${pin.user.charAt(0)}</div>
                    <div class="user-name">${pin.user}</div>
                </div>
                <button class="save-btn" onclick="event.stopPropagation(); alert('Saved: ${pin.title}');">Save</button>
            </div>
        </div>
    `;
    
    return card;
}

function loadPins(pinsToShow = pins) {
    grid.innerHTML = '';
    if (pinsToShow.length === 0) {
        grid.innerHTML = `<div class="empty-state"><h3>No pins found</h3><p>Try adjusting your search or filter</p></div>`;
        return;
    }
    pinsToShow.forEach((pin, index) => {
        grid.appendChild(createPinCard(pin, index));
    });
}

function filterByCategory(category) {
    currentFilter = category;
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active');
        if (btn.textContent === category) {
            btn.classList.add('active');
        }
    });
    if (category === 'All') {
        loadPins(pins);
    } else {
        const filtered = pins.filter(pin => pin.category === category);
        loadPins(filtered);
    }
}

function searchPins(query) {
    query = query.toLowerCase().trim();
    if (!query) {
        filterByCategory(currentFilter);
        return;
    }
    const baseFilter = currentFilter === 'All' ? pins : pins.filter(pin => pin.category === currentFilter);
    const filtered = baseFilter.filter(pin => {
        return pin.title.toLowerCase().includes(query) ||
               pin.description.toLowerCase().includes(query) ||
               pin.user.toLowerCase().includes(query);
    });
    loadPins(filtered);
}

function openModal(pin, index) {
    modalImage.src = pin.youtube;
    modalTitle.textContent = pin.title;
    modalDescription.textContent = pin.description;
    modalUser.textContent = pin.user;
    modalAvatar.textContent = pin.user.charAt(0);
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
}

function closeModal() {
    modal.classList.remove('active');
    document.body.style.overflow = 'auto';
}

function loadCategories() {
    categoryContainer.innerHTML = '';
    categories.forEach(category => {
        const btn = document.createElement('button');
        btn.className = 'category-btn';
        if (category === 'All') {
            btn.classList.add('active');
        }
        btn.textContent = category;
        btn.onclick = () => filterByCategory(category);
        categoryContainer.appendChild(btn);
    });
}

function init() {
    loadCategories();
    loadPins();
    modalClose.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => {
        if (e.target === modal) {
            closeModal();
        }
    });
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('active')) {
            closeModal();
        }
    });
    let searchTimeout;
    searchInput.addEventListener('input', (e) => {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
            searchPins(e.target.value);
        }, 300);
    });
    fabBtn.addEventListener('click', () => {
        alert('Create new pin feature coming soon!');
    });
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
} else {
    init();
}
    </script>
</body>
</html>
